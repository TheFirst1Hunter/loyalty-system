// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id String @id @default(uuid())

  UID          String  @default(uuid())
  username     String  @unique
  password     String
  active       Boolean @default(true)
  isSuperAdmin Boolean @default(false)
}

model Costumer {
  id String @id @default(uuid())

  birthDate      DateTime @default(now())
  pin            String
  serial         String   @default(uuid())
  name           String
  credits        Int      @default(0)
  UID            String   @default(uuid())
  phoneNumber    String   @unique
  active         Boolean  @default(true)
  birthdayStatus BDstatus @default(nothing)
  address        String   @default("")

  order Order[]
}

model Order {
  id String @id @default(uuid())

  totalPrice      Int
  items           String[]
  tableNumber     Int
  UID             String   @default(uuid())
  date            DateTime @default(now())
  creditUsed      Int      @default(0)
  returnedCredits Int      @default(0)
  active          Boolean  @default(true)

  costumerId String
  costumer   Costumer @relation(fields: [costumerId], references: [id], onDelete: SetNull)
}

enum BDstatus {
  today
  tomorrow
  nextMonth
  nothing
}
